
###  👩‍💻 개발에 필요한 데이터 정리

[1. 가입페이지](#가입페이지)  
[2. 메인페이지](#메인페이지)  
[3. 마이페이지](#마이페이지)  
[4. 현황 상세](#현황-상세)  
[5. 랭킹 공유](#랭킹-공유)  
[6. API 관련](#api-관련)

    

## 가입페이지

| 컬럼명 | 상세 | 비고 |
|:------:|:---:|:---:|
사용자코드 | - | 사용자 구분 위해 사용하는 key | 
사용자명 | - | "ㅇㅇㅇ님이 현재 이용중인 적금 목록입니다~~~" |
현재 이용중인 적금 | - | API 사용 <br> 연결할 적금상품 선택 가능하도록

### 사용자 선택 항목
- 목표 기간
- 챌린지 종류 (챌린지명)
- 적금 새로 만들지 여부 : 자체적금 or 기존 적금 사용 

<br>

## 메인페이지

| 컬럼명 | 상세 | 비고 |
|:----:|:---:|:---:|
사용자코드 | - | - |
사용자명 | - | - |
달성률 | 실패일수 / (현재날짜 - 가입날짜) * 100 | 챌린지 성공, 적금 성공 구분해서 이미지 표현 + 수치는 둘 다 합쳐서 | 
챌린지명 | - | - |

<br>

## 마이페이지
| 컬럼명 | 상세 | 비고 |
|:------:|:---:|:---:|
사용자코드 | - | - 
가입날짜 | - | -
절약금액 | (현재날짜 - 가입날짜) * 챌린지항목의 평균가격 | -
적금현황 | - | 연결된 적금에 저축된 금액 (기존 금액 제외)
달성률 | 실패일수 / (현재날짜 - 가입날짜) * 100 | - |
예상 우대이율 | - | 달성일수 범위에 따른 우대이율	

### 우대이율 관련
- 지속기간에 따라 다른 우대이율을 적용하는 경우 (연속적으로? 달성일수만?)

    (달성일수 예시)	
    범위 시작 | 범위 끝 | 우대이율
    |:------:|:---:|:---:|
    0 | 31 | 2%
    32 | 90 | 3%
    91 | 365 | 4%
    … | … | …

		

<br>

## 현황 상세
| 컬럼명 | 상세 | 비고 |
|:------:|:---:|:---:|
사용자코드 | - | - |
챌린지명 | - | - |
스탬프 발급일자 | - | - | 
캘린더 표시날짜 | (스탬프발급날짜 - 가입날짜) + 1 | `N일차` 로 표현 <br> e.g. 가입날짜 = 1일차		
스탬프 구분 | 1 = 당근(챌린지성공) <br> 2 = 당근먹는토끼(적금) <br>3 = null(실패) | API 사용 | 
현재 날짜 | - | 현재 날짜 중심으로 캘린더 볼 수 있게

<br>

## 랭킹 공유
| 컬럼명 | 상세 | 비고 |
|:------:|:---:|:---:|
사용자코드 | - | - | 
사용자연령대 | - | 사용자로부터 입력받기 <br> 필터링 기준 | 
사용자성별 | - | 사용자로부터 입력받기 <br> 필터링 기준 | 
챌린지명 | - | 필터링 기준
지속기간 | 현재 날짜 - 가입 날짜 | 여러 챌린지에 참여한다면 기간 합하기
모은 금액 | 적금현황 + 절약금액 | 적금현황만? 절약금액만? 둘의 합계?


### % 계산 관련	
- 전체 사용자 기준 랭킹 / 전체 사용자 수 * 100 
- 사용자가 속하는 나이대 안에서의 랭킹 / 해당 나이대 사용자 수 * 100
- 사용자가 속하는 성별 안에서의 랭킹 / 해당 성별 사용자 수 * 100
- 사용자가 참여하는 챌린지 안에서의 랭킹 / 해당 챌린지의 도전자 수 * 100

<br>

## 사용자 데이터
- 기본적으로 서비스 이용자로 추가가 되면 데이터베이스에 추가할 것들


					
<br>

## API 관련 

    📍 사용할 API
        - 전체 계좌 목록 조회
        - 계좌 거래내역 조회
        - 예적금계좌 내역 및 상세 조회
        - SOL 앱푸시 알림 (추후 고려)


### 전체 계좌 목록 조회
- 기존 적금 활용해서 챌린지 진행하는 경우  
- 고객 보유 적금 계좌 조회  
- 암호화된 실명번호 필요 -> 이게 뭔데

<br>

**Response**
- 고객명  
- 반복횟수1 = 예적금/외화/펀드/신탁 반복횟수
    - 배열로 리턴해줌
    - 반복 돌면서 상품명에서 ~적금 만 가져오기
    - 계좌번호 db에 넣기

+) 적금 만기일이 챌린지 목표 기간보다 가까운 경우에는?

		
---

### 계좌 거래내역 조회

고객 계좌번호 기반으로 거래내역 확인  
+) 매시간 업데이트? 언제 내역 업뎃할지 정해야 할듯
<br>

**Response**
- 특정 시간대에 request 보내서 "내용" 확인
	- 내용과 챌린지 종류 데이터화 하기
	- e.g. 커피 챌린지 - 스타벅스, 바나프레소, 메가커피 등등
- 챌린지 실패 날짜에 적금에 입금이 이루어졌는지 확인

---

### 예적금계좌 내역 및 상세 조회

고객 계좌번호 필요
<br>

**Response**
- 이율 수정??



